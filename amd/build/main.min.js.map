{"version":3,"sources":["../src/main.js"],"names":["TAGS","document","querySelectorAll","isForum","querySelector","classList","contains","getCourseId","className","match","replaceHref","el","tagName","innerHTML","trim","href","Config","wwwroot","title","removeAttribute","init","Array","from"],"mappings":"8IAAA,uDAEA,GAAMA,CAAAA,CAAI,CAAGC,QAAQ,CAACC,gBAAT,CAA0B,gBAA1B,CAAb,CAMA,QAASC,CAAAA,CAAT,EAAmB,CACf,MAAOF,CAAAA,QAAQ,CAACG,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,CAAyCC,QAAzC,CAAkD,gBAAlD,CACV,CAMD,QAASC,CAAAA,CAAT,EAAuB,CACnB,MAAON,CAAAA,QAAQ,CAACG,aAAT,CAAuB,MAAvB,EAA+BI,SAA/B,CAAyCC,KAAzC,CAA+C,cAA/C,EAA+D,CAA/D,CACV,CAMD,QAASC,CAAAA,CAAT,CAAqBC,CAArB,CAAyB,OACjBC,CAAO,WAAGD,CAAE,CAACE,SAAH,CAAaC,IAAb,GAAoBL,KAApB,CAA0B,KAA1B,EAAiC,CAAjC,CAAH,gBAA0C,EADhC,CAErB,OAAQG,CAAR,EACI,IAAK,UAAL,CACID,CAAE,CAACI,IAAH,CAAUC,UAAOC,OAAP,CAAiB,gDAAjB,CAAoEV,CAAW,EAAzF,CACAI,CAAE,CAACO,KAAH,CAAW,2CAAX,CACA,MACJ,IAAK,OAAL,CACIP,CAAE,CAACI,IAAH,CAAUC,UAAOC,OAAP,CAAiB,4BAAjB,CAAgDV,CAAW,EAArE,CACAI,CAAE,CAACO,KAAH,CAAW,iDAAX,CACA,MACJ,QACIP,CAAE,CAACQ,eAAH,CAAmB,MAAnB,EAVR,CAYH,C,OAEmB,QAAPC,CAAAA,IAAO,EAAK,CACrB,GAAIjB,CAAO,IAAMH,CAAjB,CAAuB,CACnBqB,KAAK,CAACC,IAAN,CAAWtB,CAAX,CAAiB,SAAAW,CAAE,QAAID,CAAAA,CAAW,CAACC,CAAD,CAAf,CAAnB,CACH,CACJ,C","sourcesContent":["import Config from 'core/config';\n\nconst TAGS = document.querySelectorAll('.tag_list li a');\n\n/**\n * Is this page a forum page?\n * @returns {boolean}\n */\nfunction isForum() {\n    return document.querySelector('body').classList.contains('path-mod-forum');\n}\n\n/**\n * Get course ID from body class.\n * @returns {string}\n */\nfunction getCourseId() {\n    return document.querySelector('body').className.match(/course-(\\d+)/)[1];\n}\n\n/**\n *\n * @param {Element} el\n */\nfunction replaceHref(el) {\n    let tagName = el.innerHTML.trim().match(/\\w+/)[0] ?? '';\n    switch (tagName) {\n        case 'resource':\n            el.href = Config.wwwroot + '/course/format/cop/posts.php?view=resource&id=' + getCourseId();\n            el.title = \"See a list of all posts tagged 'resource'\";\n            break;\n        case 'event':\n            el.href = Config.wwwroot + '/calendar/view.php?course=' + getCourseId();\n            el.title = \"Visit the Community of Practice events calendar\";\n            break;\n        default:\n            el.removeAttribute('href');\n    }\n}\n\nexport const init = ()=> {\n    if (isForum() && TAGS) {\n        Array.from(TAGS, el => replaceHref(el));\n    }\n};"],"file":"main.min.js"}